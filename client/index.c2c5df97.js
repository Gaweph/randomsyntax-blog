import{S as t,i as e,s,c as n,a as o,m as r,t as a,b as l,d as c,T as f,e as i,f as g,q as p,g as $,h as m,j as u,k as h,l as d,I as j,n as w,o as x,p as P,r as y}from"./client.f2ad848a.js";import{f as N}from"./Tag.23e8f2ea.js";import"./Post-Tags-Projects.307e0a83.js";import{P as T}from"./Post-Link.94ca5c8f.js";function b(t,e,s){const n=t.slice();return n[2]=e[s],n}function k(t,e,s){const n=t.slice();return n[5]=e[s],n}function q(t){let e;const s=new T({props:{title:t[5],slug:"projects/"+t[5]}});return{c(){n(s.$$.fragment)},l(t){o(s.$$.fragment,t)},m(t,n){r(s,t,n),e=!0},p(t,e){const n={};1&e&&(n.title=t[5]),1&e&&(n.slug="projects/"+t[5]),s.$set(n)},i(t){e||(a(s.$$.fragment,t),e=!0)},o(t){l(s.$$.fragment,t),e=!1},d(t){c(s,t)}}}function v(t){let e,s;const f=new j({props:{icon:N}});return{c(){n(f.$$.fragment),e=w("\r\n  Posts")},l(t){o(f.$$.fragment,t),e=x(t,"\r\n  Posts")},m(t,n){r(f,t,n),u(t,e,n),s=!0},p:P,i(t){s||(a(f.$$.fragment,t),s=!0)},o(t){l(f.$$.fragment,t),s=!1},d(t){c(f,t),t&&$(e)}}}function B(t){let e;const s=new T({props:{title:t[2].title,slug:t[2].slug,projects:t[2].projects,tags:t[2].tags}});return{c(){n(s.$$.fragment)},l(t){o(s.$$.fragment,t)},m(t,n){r(s,t,n),e=!0},p(t,e){const n={};2&e&&(n.title=t[2].title),2&e&&(n.slug=t[2].slug),2&e&&(n.projects=t[2].projects),2&e&&(n.tags=t[2].tags),s.$set(n)},i(t){e||(a(s.$$.fragment,t),e=!0)},o(t){l(s.$$.fragment,t),e=!1},d(t){c(s,t)}}}function D(t){let e,s,j,w,x,P=t[0],N=[];for(let e=0;e<P.length;e+=1)N[e]=q(k(t,P,e));const T=t=>l(N[t],1,1,()=>{N[t]=null}),D=new f({props:{$$slots:{default:[v]},$$scope:{ctx:t}}});let S=t[1],z=[];for(let e=0;e<S.length;e+=1)z[e]=B(b(t,S,e));const E=t=>l(z[t],1,1,()=>{z[t]=null});return{c(){e=i();for(let t=0;t<N.length;t+=1)N[t].c();s=i(),n(D.$$.fragment),j=i();for(let t=0;t<z.length;t+=1)z[t].c();w=g(),this.h()},l(t){p('[data-svelte="svelte-1dazbtm"]',document.head).forEach($),e=m(t);for(let e=0;e<N.length;e+=1)N[e].l(t);s=m(t),o(D.$$.fragment,t),j=m(t);for(let e=0;e<z.length;e+=1)z[e].l(t);w=g(),this.h()},h(){document.title="Gareth Williams - RandomSyntax.Net"},m(t,n){u(t,e,n);for(let e=0;e<N.length;e+=1)N[e].m(t,n);u(t,s,n),r(D,t,n),u(t,j,n);for(let e=0;e<z.length;e+=1)z[e].m(t,n);u(t,w,n),x=!0},p(t,[e]){if(1&e){let n;for(P=t[0],n=0;n<P.length;n+=1){const o=k(t,P,n);N[n]?(N[n].p(o,e),a(N[n],1)):(N[n]=q(o),N[n].c(),a(N[n],1),N[n].m(s.parentNode,s))}for(y(),n=P.length;n<N.length;n+=1)T(n);h()}const n={};if(256&e&&(n.$$scope={dirty:e,ctx:t}),D.$set(n),2&e){let s;for(S=t[1],s=0;s<S.length;s+=1){const n=b(t,S,s);z[s]?(z[s].p(n,e),a(z[s],1)):(z[s]=B(n),z[s].c(),a(z[s],1),z[s].m(w.parentNode,w))}for(y(),s=S.length;s<z.length;s+=1)E(s);h()}},i(t){if(!x){for(let t=0;t<P.length;t+=1)a(N[t]);a(D.$$.fragment,t);for(let t=0;t<S.length;t+=1)a(z[t]);x=!0}},o(t){N=N.filter(Boolean);for(let t=0;t<N.length;t+=1)l(N[t]);l(D.$$.fragment,t),z=z.filter(Boolean);for(let t=0;t<z.length;t+=1)l(z[t]);x=!1},d(t){t&&$(e),d(N,t),t&&$(s),c(D,t),t&&$(j),d(z,t),t&&$(w)}}}async function S({params:t,query:e}){const s=await this.fetch("index.json"),n=await s.json(),o=n.flatMap(t=>t.projects).filter((t,e,s)=>s.indexOf(t)===e);return n.sort((t,e)=>new Date(e.date)-new Date(t.date)),{posts:n,projects:o}}function z(t,e,s){let{projects:n}=e,{posts:o}=e;return t.$set=t=>{"projects"in t&&s(0,n=t.projects),"posts"in t&&s(1,o=t.posts)},[n,o]}export default class extends t{constructor(t){super(),e(this,t,z,D,s,{projects:0,posts:1})}}export{S as preload};
