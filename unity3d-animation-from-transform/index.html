<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <title>Gareth Williams - Mecanim Animation From Transform</title>      
    <link rel="icon" type="image/png" href="/images/fa-rocket_16px.png">

    <!-- Bootstrap Core CSS -->
	<link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/jasny-bootstrap-min.css">
	<link rel="stylesheet" href="/css/callouts.css">
	<link rel="stylesheet" href="/css/bootstrap-social.css">
    
    <!-- Custom Fonts -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
    <link href='//cdn.jsdelivr.net/devicons/1.8.0/css/devicons.min.css' rel='stylesheet'>
    	
    <!-- Custom Styles -->
	<link rel="stylesheet" href="/css/layout.css">    
	<link rel="stylesheet" href="/css/styles.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->    
    
</head>

<body>    		
		<!-- Sidebar -->
		<div class="navmenu navmenu-inverse navmenu-fixed-left offcanvas-sm">
	
	<div class="visible-md visible-lg">
	
		<a class="nounderline" href="/">		
			
			<div class="site-title">
				<img class="site-icon" src="/images/fa-rocket_200px.png" height="150px" />
				Gareth Williams
			</div>
			
		</a>
					
		<div class="site-description">
			RandomSyntax.Net
		</div>	
	</div>
	
	<ul class="nav navmenu-nav">
		
			<li class="">
				<a href="/">   					
					<i class="icon fa fa-home"></i>
					Home     
				</a>
			</li>
		
			<li class="">
				<a href="/categories/3D-Printer">   					
					<i class="icon fa fa-gitlab"></i>
					3D Printer     
				</a>
			</li>
		
			<li class="">
				<a href="/categories/Gamedev/Timegame/">   					
					<i class="icon fa fa-gamepad"></i>
					Time Game     
				</a>
			</li>
		
			<li class="">
				<a href="/atom.xml">   					
					<i class="icon fa fa-rss"></i>
					RSS     
				</a>
			</li>
		
	</ul>	
	
	<div class="nav btn-list"><i class="icon fa fa-tags"></i>
     
        <a href="/tags/software/">
            <button type="button" class="btn btn-primary btn-xs">					
                    software		
            </button>
        </a>
     
        <a href="/tags/automation/">
            <button type="button" class="btn btn-primary btn-xs">					
                    automation		
            </button>
        </a>
     
        <a href="/tags/hardware/">
            <button type="button" class="btn btn-primary btn-xs">					
                    hardware		
            </button>
        </a>
     
        <a href="/tags/build/">
            <button type="button" class="btn btn-primary btn-xs">					
                    build		
            </button>
        </a>
     
        <a href="/tags/setup/">
            <button type="button" class="btn btn-primary btn-xs">					
                    setup		
            </button>
        </a>
     
        <a href="/tags/config/">
            <button type="button" class="btn btn-primary btn-xs">					
                    config		
            </button>
        </a>
     
        <a href="/tags/conky/">
            <button type="button" class="btn btn-primary btn-xs">					
                    conky		
            </button>
        </a>
     
        <a href="/tags/unity3d/">
            <button type="button" class="btn btn-primary btn-xs">					
                    unity3d		
            </button>
        </a>
    
</div>


	<div class="row">
		<div class="col-sm-1 col-lg-2">		
		</div>
		<div class="col-sm-10 col-lg-8">
			<a href="https://twitter.com/Gaweph" class="btn  btn-social-icon btn-twitter">
				<i class="fa fa-twitter fa-fw"></i>
			</a>
			<a href="https://github.com/Gaweph" class="btn btn-social-icon btn-github">
				<i class="fa fa-github fa-fw"></i>
			</a>
			<a href="https://uk.pinterest.com/gaweph" class="btn btn-social-icon btn-pinterest">
				<i class="fa fa-pinterest fa-fw"></i>
			</a>
		</div>
		<div class="col-sm-1 col-lg-2">			
		</div>
	</div>
		

</div>
		
		<!-- Header -->
		<div class="navbar navbar-inverse navbar-fixed-top hidden-md hidden-lg">
	<button type="button" class="navbar-toggle" data-toggle="offcanvas" data-target=".navmenu">
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
	</button>	
			
	<a class="nounderline" href="/">
		<div class="site-title">
			<img class="site-icon" src="/images/fa-rocket_200px.png" height="25px" />
			Gareth Williams
		</div>
	</a>
		
</div>

				
		<!-- Page Content -->
		<div id="wrap">
			<div id="main" class="container-fluid clear-top">
				<div class="blog-post">

    <!-- Title -->    
    <h1 class="post-title page-header"> 
        Mecanim Animation From Transform   
    </h1>

    <!-- Date and Author -->
    <p class="blog-post-meta">
        17-10-2016
        
    </p>
    
    <!-- Tags and Categories links -->
    

<div class="blog-categories-container">
    <span class="fa fa-folder"></span>
    <a href="/categories/Gamedev/">Gamedev</a> / <a href="/categories/Gamedev/Helpers/">Helpers</a>
</div>

    

<div class="blog-tags-container">
    <span class="fa fa-tags"></span>
    <a href="/tags/software/">#software</a> <a href="/tags/unity3d/">#unity3d</a>
</div>

    
    <!-- Content -->
    <p>In this post I will try to explain how I implemented simple auto animation for my characters based on their changing position in the scene (using mecanim and a simple script).</p>
<div style="max-width: 700px"><br><div class="video-container"><iframe src="//player.vimeo.com/video/187484099" frameborder="0" allowfullscreen></iframe></div><br></div>

<div class="bs-callout bs-callout-warning"><h4 id="Position-and-Rotation-only"><a href="#Position-and-Rotation-only" class="headerlink" title="Position and Rotation only"></a>Position and Rotation only</h4><p>In the above example the only thing being manipulated is the objects position and rotation<br>(The animations are happening automagically)</p>
</div>
<h2 id="How-to"><a href="#How-to" class="headerlink" title="How to"></a>How to</h2><p>First we need to load a Mecanim <strong>Animator-&gt;Controller</strong> and a model to attach an Animator component onto.</p>
<p>In my example I have used the classic unity model of <strong>Kyle the Robot</strong> and the standard <strong>ThirdPersonAnimatorController</strong></p>
<p>(Any model and controller will do).</p>
<a class="image-link" href="/content/images/unity3d-animation-from-transform/Standard_asset_Animator_Robot_kyle.png" title="Standard Third Party Animation Controller on Kyle the Robot"><img src="/content/images/unity3d-animation-from-transform/Standard_asset_Animator_Robot_kyle.png" alt="Standard Third Party Animation Controller on Kyle the Robot"></a>
<h2 id="Animation-States-and-Variables"><a href="#Animation-States-and-Variables" class="headerlink" title="Animation States and Variables"></a>Animation States and Variables</h2><p>We can see that there are a few states and variables included in this controller. </p>
<p>The variable we are interested in is <strong>Forward</strong>.</p>
<a class="image-link" href="/content/images/unity3d-animation-from-transform/ThirdPersonAnimatorController.png" title="ThirdPersonAnimatorController States"><img src="/content/images/unity3d-animation-from-transform/ThirdPersonAnimatorController.png" alt="ThirdPersonAnimatorController States"></a>
<p>The value of <strong>Forward</strong> will determine the walk/run animation that mecanim wil animate for us.</p>
<h2 id="The-Code"><a href="#The-Code" class="headerlink" title="The Code"></a>The Code</h2><script src="https://gist.github.com/Gaweph/4cc5359a43d724a534ddc6efc82cc58d.js"></script>

<h2 id="Explanation"><a href="#Explanation" class="headerlink" title="Explanation"></a>Explanation</h2><p>Each Update() the <strong>Velocity</strong> <em>(Vector3)</em> of the object is taken .</p>
<p>This value is then passed to the animator <em>(if one exists)</em> which sets the specified movement float <em>(“<strong>Forward</strong>“ in my example)</em></p>
<div class="bs-callout bs-callout-primary"><h4 id="Velocity"><a href="#Velocity" class="headerlink" title="Velocity"></a>Velocity</h4><p>This is the difference between this frames transform and the previous frames transform.</p>
</div>
<div class="bs-callout bs-callout-warning"><h4 id="NOTE"><a href="#NOTE" class="headerlink" title="NOTE -"></a>NOTE -</h4><p><strong>MinMovementAmount</strong> - This variable can be changed in order to get the desired effect.  I found that a value of 1 produced good movements for the prototype I was implementing.</p>
</div>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><p>Simply attach this script to your object that contains your character.  Good luck, let me know in the comments if anything needs explaining or if this does not work for you :)</p>

    
    <hr />
        
    <!-- Comments -->
    
    <div class="blog-post-comments">
        <h2>Comments:</h2>
        <div id="disqus_thread">
            <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
    </div>

</div>
			</div>
			
			<!-- Footer -->
			<footer id="footer">
				

				

<p class="copyright text-muted">Powered by <a target="_blank" href="https://hexo.io/">Hexo</a>.</p>			
			</footer>
		</div>
	<!-- After footer scripts -->
	<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jasny-bootstrap.min.js"></script>

<!-- Disqus Comments -->

    <script type="text/javascript">
        var disqus_shortname = 'randomsyntax';

        (function(){
            var dsq = document.createElement('script');
            dsq.type = 'text/javascript';
            dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        }());
    </script>



  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>	
    
</body>

</html>